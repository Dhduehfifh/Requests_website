{
  "User": {
    "description": "Registered user profile",
    "fields": {
      "id": "uuid",
      "phone_e164": "string|null",
      "email": "string|null",
      "birthday": "date(YYYY-MM-DD)|null ",
      "username": "string",
      "avatar_url": "string|null",
      "school": "string|null",
      "city": "string|null",
      "language": "enum('zh', 'en') default 'en'|null",
      "banned_until": "datetime(ISO 8601)|null ",
      "created_at": "datetime(ISO 8601)",
      "updated_at": "datetime(ISO 8601)",
      "constraints":[
        "phone_e164, email and username, if exist, must be unique"
      ]
    },
    "example": {
      "id": "c2f8f4d8-6d8a-4a4f-8a2d-7d47a6b12d77",
      "phone_e164": "+14165551234",
      "email": "alice@example.com",
      "birthday": "2003-09-21",
      "username": "alice",
      "avatar_url": "https://cdn.example.com/avatars/a.png",
      "school": "Mohawk College",
      "city": "Hamilton",
      "language": "en",
      "banned_until": null,
      "created_at": "2025-09-01T13:42:11Z",
      "updated_at": "2025-09-01T13:42:11Z"
    }
  },
  "ForumPost": {
    "description": "Generic post; can specialize into market/housing/lfg via post_type and 1:1 children",
    "fields": {
      "id": "uuid",
      "author_id": "uuid -> User.id",
      "title": "string",
      "content": "string (markdown allowed)",
      "city": "string|null",
      "province": "string|null",
      "tags": "array<string>",
      "visibility": "enum('public','friends','private') default 'public'",
      "post_type": "enum('general','market','housing','lfg')",
      "status": "enum('active', 'closed', 'deleted')",
      "images": "array<string(urls)>",
      "created_at": "datetime(ISO 8601)",
      "updated_at": "datetime(ISO 8601)",
      "deleted_at": "datetime(ISO 8601)|null"
    },
    "example": {
      "id": "2a3e0a62-0c92-4fe1-9b8e-3f2a2e7c1b11",
      "author_id": "c2f8f4d8-6d8a-4a4f-8a2d-7d47a6b12d77",
      "title": "Looking for a study buddy for COMP-10205",
      "content": "Anyone up for DSA problem sets?",
      "city": "Hamilton",
      "province": "ON",
      "tags": [
        "study",
        "DSA"
      ],
      "visibility": "public",
      "post_type": "lfg",
      "images": [],
      "created_at": "2025-09-02T02:22:10Z",
      "updated_at": "2025-09-02T02:22:10Z",
      "deleted_at": null
    }
  },
  "ForumComment": {
    "description": "Comment on a ForumPost",
    "fields": {
      "id": "uuid",
      "post_id": "uuid -> ForumPost.id",
      "author_id": "uuid -> User.id",
      "content": "string",
      "created_at": "datetime(ISO 8601)",
      "updated_at": "datetime(ISO 8601)",
      "deleted_at": "datetime(ISO 8601)|null"
    },
    "example": {
      "id": "5c51b9b5-33a3-4e09-9a4a-8c0e3f087e5f",
      "post_id": "2a3e0a62-0c92-4fe1-9b8e-3f2a2e7c1b11",
      "author_id": "c2f8f4d8-6d8a-4a4f-8a2d-7d47a6b12d77",
      "content": "I'm in!",
      "created_at": "2025-09-02T03:05:00Z",
      "updated_at": "2025-09-02T03:05:00Z",
      "deleted_at": null
    }
  },
  "MarketListing": {
    "description": "Specialization of ForumPost (post_type='market')",
    "fields": {
      "id": "uuid",
      "forum_post_id": "uuid -> ForumPost.id",
      "category": "enum(electronics, furniture, home_appliances, vehicles, books, fashion, sports, entertainment, digital, other)",
      "price": "decimal(2 decimal places)",
      "trade_methods": "array<enum('meetup', 'pickup', 'delivery', 'shipping')>",
      "created_at": "datetime(ISO 8601)",
      "updated_at": "datetime(ISO 8601)",
      "constraints": [
      "city must be provided if category != 'digital'"
      ]
      
    },
    "example": {
      "id": "9a4b1f68-8427-4f5f-9a9f-2f4ab8da7f1a",
      "forum_post_id": "2a3e0a62-0c92-4fe1-9b8e-3f2a2e7c1b11",
      "category": "electronics",
      "price": 120.00,
      "trade_methods": [
        "meetup",
        "pickup"
      ],
      "created_at": "2025-09-02T02:22:10Z",
      "updated_at": "2025-09-02T02:22:10Z"
    }
  },
  "HousingListing": {
    "description": "Specialization of ForumPost (post_type='housing')",
    "fields": {
      "id": "uuid",
      "forum_post_id": "uuid -> ForumPost.id",
      "address": "string",
      "unit_number": "string|null",
      "city": "string",
      "province": "string",
      "postal_code": "string",
      "housing_type": "enum('house','apartment','condo','townhouse','other')",
      "housing_type_other": "string|null",
      "rent": "decimal(2 decimal places)",
      "rent_unit": "enum('year', 'month','week', 'day')",
      "created_at": "datetime(ISO 8601)",
      "updated_at": "datetime(ISO 8601)",
      "constraints": [
      "housing_type_other must be provided if housing_type = 'other'"
      ]
    },
    "example": {
      "id": "c0f08b1e-55a0-40a4-9e90-9f62672a2bda",
      "forum_post_id": "2a3e0a62-0c92-4fe1-9b8e-3f2a2e7c1b11",
      "address": "123 King St E",
      "unit_number": "2A",
      "city": "Hamilton",
      "province": "ON",
      "postal_code": "L8N 1A9",
      "housing_type": "apartment",
      "housing_type_other": null,
      "rent": 1700.00,
      "rent_unit": "month",
      "created_at": "2025-09-02T02:22:10Z",
      "updated_at": "2025-09-02T02:22:10Z"
    }
  },
  "LfgPost": {
    "description": "Specialization of ForumPost (post_type='lfg')",
    "fields": {
      "id": "uuid",
      "forum_post_id": "uuid -> ForumPost.id",
      "topic": "string",
      "people_needed": "integer|null",
      "total_expected": "integer|null",
      "online": "boolean",
      "created_at": "datetime(ISO 8601)",
      "updated_at": "datetime(ISO 8601)",
      "constraints": [
      "if online = false then ForumPost.city and ForumPost.province must be non-null"
      ]
    },
    "example": {
      "id": "7d139db5-2975-4f1a-a471-42b2a97b2991",
      "forum_post_id": "2a3e0a62-0c92-4fe1-9b8e-3f2a2e7c1b11",
      "topic": "Hackathon team",
      "people_needed": 2,
      "total_expected": 4,
      "online": false,
      "created_at": "2025-09-02T02:22:10Z",
      "updated_at": "2025-09-02T02:22:10Z"
    }
  },
  "Conversation": {
    "description": "Private conversation, usually tied to a ForumPost",
    "fields": {
      "id": "uuid",
      "user_a": "uuid -> User.id",
      "user_b": "uuid -> User.id",
      "created_at": "datetime(ISO 8601)",
      "updated_at": "datetime(ISO 8601)",
      "constraint": [
        "(user_a, user_b) pair must be unique",
        "user_a != user_b"
      ]
    },
    "example": {
      "id": "c1c1d8f0-0c0d-4f2d-9c1a-1a2b3c4d5e6f",
      "user_a": "c2f8f4d8-6d8a-4a4f-8a2d-7d47a6b12d77",
      "user_b": "9f9f4d8b-5e5a-4a4f-8a2d-7d47a6b12d88",
      "created_at": "2025-09-02T04:00:00Z",
      "updated_at": "2025-09-02T04:00:00Z"
    }
  },
  "Message": {
    "description": "Message inside a conversation",
    "fields": {
      "id": "uuid",
      "conv_id": "uuid -> Conversation.id",
      "sender_id": "uuid -> User.id",
      "content": "string",
      "images": "array<string(url)>",
      "ref_post_id": "uuid|null -> ForumPost.id (if message references a post)",
      "created_at": "datetime(ISO 8601)",
      "updated_at": "datetime(ISO 8601)"
    },
    "example": {
      "id": "ab4a7b5f-7aa4-4a9f-bf61-a30aef6b1ef4",
      "conv_id": "c1c1d8f0-0c0d-4f2d-9c1a-1a2b3c4d5e6f",
      "sender_id": "c2f8f4d8-6d8a-4a4f-8a2d-7d47a6b12d77",
      "content": "Hey! Is this still available?",
      "images": [],
      "ref_post_id": null,
      "created_at": "2025-09-02T04:01:00Z",
      "updated_at": "2025-09-02T04:01:00Z"
    }
  }
}